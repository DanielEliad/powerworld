from models import BusType, BatteryType, BatteryConstraints, BusConfig

BUDGET_LIMIT_EUR = 300000
LOAD_COST_PER_KWH_EUR = 500

VOLTAGE_MIN_PU = 0.9
VOLTAGE_MAX_PU = 1.1

CAPACITY_TOLERANCE_KWH = 0.01
ENERGY_TOLERANCE_MW = 0.01

BATTERY_CONSTRAINTS = {
    BatteryType.HOME: BatteryConstraints(
        cost_per_kwh=1000,
        min_size_kwh=0,
        max_size_kwh=45,
        rounding_increment_kwh=5,
        allowed_bus_types=[BusType.RESIDENTIAL]
    ),
    BatteryType.NEIGHBORHOOD: BatteryConstraints(
        cost_per_kwh=600,
        min_size_kwh=0,
        max_size_kwh=400,
        rounding_increment_kwh=100,
        allowed_bus_types=[BusType.COMMUNITY]
    )
}

DEFAULT_BUS_CONFIG = {
    1: BusConfig(bus_number=1, bus_type=BusType.PCC),
    2: BusConfig(bus_number=2, bus_type=BusType.COMMUNITY),
    3: BusConfig(bus_number=3, bus_type=BusType.RESIDENTIAL, num_houses=10, num_solar_panels=50),
    4: BusConfig(bus_number=4, bus_type=BusType.RESIDENTIAL, num_houses=45, ev_capacity_kw=24),
    5: BusConfig(bus_number=5, bus_type=BusType.RESIDENTIAL, num_houses=50, num_solar_panels=36),
    6: BusConfig(bus_number=6, bus_type=BusType.RESIDENTIAL, num_houses=20, num_solar_panels=24),
    7: BusConfig(bus_number=7, bus_type=BusType.RESIDENTIAL, num_houses=15, num_solar_panels=48, ev_capacity_kw=12),
    8: BusConfig(bus_number=8, bus_type=BusType.COMMUNITY, num_solar_panels=50),
    9: BusConfig(bus_number=9, bus_type=BusType.RESIDENTIAL, num_houses=35, num_solar_panels=64),
    10: BusConfig(bus_number=10, bus_type=BusType.RESIDENTIAL, num_houses=15, num_solar_panels=78, ev_capacity_kw=18),
    11: BusConfig(bus_number=11, bus_type=BusType.RESIDENTIAL, num_houses=10, ev_capacity_kw=12),
    12: BusConfig(bus_number=12, bus_type=BusType.RESIDENTIAL, num_houses=35, num_solar_panels=58),
    13: BusConfig(bus_number=13, bus_type=BusType.RESIDENTIAL, num_houses=80, num_solar_panels=90, ev_capacity_kw=33),
}

DEFAULT_LOAD_MW = """Timepoint
Date	Time	Num Loads	Total MW Load	Total Mvar Load	Bus 3 #1 MW	Bus 4 #1 MW	Bus 4 #EV MW	Bus 5 #1 MW	Bus 6 #1 MW	Bus 7 #1 MW	Bus 7 #EV MW	Bus 9 #1 MW	Bus 10 #1 MW	Bus 10 #EV MW	Bus 11 #1 MW	Bus 11 #EV MW	Bus 12 #1 MW	Bus 13 #1 MW	Bus 13 #EV MW
10/15/2025	12:00:00 AM	15	0.3	0.1	0.001	0.045	0.012	0.020	0.011	0.009	0.008	0.066	0.015	0.000	0.012	0.012	0.008	0.069	0.000
10/15/2025	1:00:00 AM	15	0.3	0.1	0.001	0.050	0.012	0.027	0.005	0.011	0.008	0.050	0.016	0.000	0.008	0.012	0.011	0.081	0.000
10/15/2025	2:00:00 AM	15	0.3	0.1	0.001	0.052	0.000	0.035	0.005	0.005	0.008	0.036	0.016	0.000	0.007	0.000	0.008	0.080	0.000
10/15/2025	3:00:00 AM	15	0.2	0.1	0.001	0.061	0.000	0.030	0.006	0.002	0.000	0.014	0.010	0.000	0.007	0.000	0.028	0.054	0.011
10/15/2025	4:00:00 AM	15	0.2	0.1	0.012	0.037	0.000	0.030	0.007	0.001	0.000	0.004	0.008	0.000	0.007	0.000	0.015	0.043	0.011
10/15/2025	5:00:00 AM	15	0.2	0.1	0.009	0.029	0.000	0.028	0.011	0.004	0.000	0.004	0.008	0.000	0.007	0.000	0.028	0.046	0.011
10/15/2025	6:00:00 AM	15	0.2	0.1	0.003	0.027	0.000	0.033	0.017	0.020	0.000	0.006	0.008	0.012	0.009	0.000	0.024	0.043	0.011
10/15/2025	7:00:00 AM	15	0.3	0.1	0.004	0.031	0.000	0.055	0.029	0.019	0.000	0.018	0.008	0.012	0.013	0.000	0.025	0.067	0.000
10/15/2025	8:00:00 AM	15	0.2	0.1	0.004	0.019	0.000	0.046	0.017	0.005	0.000	0.014	0.006	0.000	0.012	0.000	0.022	0.053	0.000
10/15/2025	9:00:00 AM	15	0.2	0.1	0.005	0.014	0.000	0.036	0.015	0.005	0.000	0.020	0.006	0.000	0.008	0.000	0.014	0.054	0.000
10/15/2025	10:00:00 AM	15	0.2	0.1	0.005	0.013	0.000	0.025	0.014	0.007	0.000	0.022	0.015	0.000	0.008	0.000	0.014	0.050	0.000
10/15/2025	11:00:00 AM	15	0.2	0.1	0.006	0.017	0.000	0.019	0.022	0.012	0.000	0.020	0.015	0.000	0.009	0.000	0.013	0.052	0.000
10/15/2025	12:00:00 PM	15	0.1	0.1	0.005	0.014	0.000	0.019	0.018	0.008	0.000	0.014	0.008	0.000	0.009	0.000	0.012	0.042	0.000
10/15/2025	1:00:00 PM	15	0.2	0.1	0.009	0.019	0.000	0.031	0.032	0.006	0.000	0.027	0.008	0.000	0.008	0.000	0.035	0.063	0.000
10/15/2025	2:00:00 PM	15	0.3	0.1	0.013	0.031	0.000	0.028	0.021	0.012	0.000	0.021	0.019	0.000	0.011	0.000	0.047	0.058	0.000
10/15/2025	3:00:00 PM	15	0.2	0.1	0.003	0.032	0.000	0.036	0.018	0.016	0.000	0.022	0.012	0.000	0.013	0.000	0.023	0.048	0.000
10/15/2025	4:00:00 PM	15	0.3	0.1	0.004	0.026	0.012	0.053	0.037	0.005	0.000	0.021	0.018	0.012	0.021	0.000	0.027	0.046	0.011
10/15/2025	5:00:00 PM	15	0.4	0.1	0.002	0.028	0.012	0.051	0.044	0.004	0.012	0.018	0.030	0.022	0.029	0.000	0.033	0.085	0.033
10/15/2025	6:00:00 PM	15	0.4	0.1	0.003	0.052	0.024	0.039	0.034	0.009	0.012	0.029	0.026	0.022	0.029	0.000	0.031	0.076	0.022
10/15/2025	7:00:00 PM	15	0.4	0.1	0.002	0.046	0.024	0.029	0.020	0.019	0.008	0.026	0.018	0.018	0.023	0.012	0.017	0.086	0.022
10/15/2025	8:00:00 PM	15	0.4	0.1	0.002	0.043	0.024	0.031	0.020	0.019	0.008	0.022	0.021	0.018	0.019	0.012	0.021	0.084	0.022
10/15/2025	9:00:00 PM	15	0.3	0.1	0.004	0.025	0.012	0.024	0.034	0.010	0.012	0.014	0.015	0.012	0.016	0.012	0.015	0.080	0.011
10/15/2025	10:00:00 PM	15	0.3	0.1	0.003	0.027	0.012	0.023	0.041	0.009	0.012	0.011	0.015	0.012	0.015	0.012	0.007	0.065	0.011
10/15/2025	11:00:00 PM	15	0.3	0.1	0.007	0.036	0.012	0.022	0.026	0.014	0.008	0.038	0.012	0.012	0.034	0.012	0.009	0.091	0.011
"""

DEFAULT_LOAD_MVAR = """Timepoint
Date	Time	Num Loads	Total MW Load	Total Mvar Load	Bus 3 #1 Mvar	Bus 4 #1 Mvar	Bus 4 #EV Mvar	Bus 5 #1 Mvar	Bus 6 #1 Mvar	Bus 7 #1 Mvar	Bus 7 #EV Mvar	Bus 9 #1 Mvar	Bus 10 #1 Mvar	Bus 10 #EV Mvar	Bus 11 #1 Mvar	Bus 11 #EV Mvar	Bus 12 #1 Mvar	Bus 13 #1 Mvar	Bus 13 #EV Mvar
10/15/2025	12:00:00 AM	15	0.3	0.1	0.000	0.015	0.004	0.006	0.004	0.003	0.003	0.022	0.005	0.000	0.004	0.004	0.003	0.023	0.000
10/15/2025	1:00:00 AM	15	0.3	0.1	0.000	0.016	0.004	0.009	0.002	0.004	0.003	0.016	0.005	0.000	0.003	0.004	0.003	0.027	0.000
10/15/2025	2:00:00 AM	15	0.3	0.1	0.000	0.017	0.000	0.011	0.002	0.002	0.003	0.012	0.005	0.000	0.002	0.000	0.002	0.026	0.000
10/15/2025	3:00:00 AM	15	0.2	0.1	0.000	0.020	0.000	0.010	0.002	0.001	0.000	0.005	0.003	0.000	0.002	0.000	0.009	0.018	0.004
10/15/2025	4:00:00 AM	15	0.2	0.1	0.004	0.012	0.000	0.010	0.002	0.000	0.000	0.001	0.003	0.000	0.002	0.000	0.005	0.014	0.004
10/15/2025	5:00:00 AM	15	0.2	0.1	0.003	0.010	0.000	0.009	0.004	0.001	0.000	0.001	0.002	0.000	0.002	0.000	0.009	0.015	0.004
10/15/2025	6:00:00 AM	15	0.2	0.1	0.001	0.009	0.000	0.011	0.006	0.007	0.000	0.002	0.003	0.004	0.003	0.000	0.008	0.014	0.004
10/15/2025	7:00:00 AM	15	0.3	0.1	0.001	0.010	0.000	0.018	0.010	0.006	0.000	0.006	0.003	0.004	0.004	0.000	0.008	0.022	0.000
10/15/2025	8:00:00 AM	15	0.2	0.1	0.001	0.006	0.000	0.015	0.005	0.002	0.000	0.005	0.002	0.000	0.004	0.000	0.007	0.018	0.000
10/15/2025	9:00:00 AM	15	0.2	0.1	0.002	0.005	0.000	0.012	0.005	0.002	0.000	0.007	0.002	0.000	0.003	0.000	0.005	0.018	0.000
10/15/2025	10:00:00 AM	15	0.2	0.1	0.002	0.004	0.000	0.008	0.005	0.002	0.000	0.007	0.005	0.000	0.003	0.000	0.005	0.016	0.000
10/15/2025	11:00:00 AM	15	0.2	0.1	0.002	0.006	0.000	0.006	0.007	0.004	0.000	0.007	0.005	0.000	0.003	0.000	0.004	0.017	0.000
10/15/2025	12:00:00 PM	15	0.1	0.1	0.002	0.005	0.000	0.006	0.006	0.003	0.000	0.005	0.003	0.000	0.003	0.000	0.004	0.014	0.000
10/15/2025	1:00:00 PM	15	0.2	0.1	0.003	0.006	0.000	0.010	0.011	0.002	0.000	0.009	0.003	0.000	0.003	0.000	0.011	0.021	0.000
10/15/2025	2:00:00 PM	15	0.3	0.1	0.004	0.010	0.000	0.009	0.007	0.004	0.000	0.007	0.006	0.000	0.004	0.000	0.015	0.019	0.000
10/15/2025	3:00:00 PM	15	0.2	0.1	0.001	0.010	0.000	0.012	0.006	0.005	0.000	0.007	0.004	0.000	0.004	0.000	0.008	0.016	0.000
10/15/2025	4:00:00 PM	15	0.3	0.1	0.001	0.008	0.004	0.017	0.012	0.002	0.000	0.007	0.006	0.004	0.007	0.000	0.009	0.015	0.004
10/15/2025	5:00:00 PM	15	0.4	0.1	0.001	0.009	0.004	0.017	0.014	0.001	0.004	0.006	0.010	0.007	0.009	0.000	0.011	0.028	0.011
10/15/2025	6:00:00 PM	15	0.4	0.1	0.001	0.017	0.008	0.013	0.011	0.003	0.004	0.009	0.009	0.007	0.010	0.000	0.010	0.025	0.007
10/15/2025	7:00:00 PM	15	0.4	0.1	0.001	0.015	0.008	0.010	0.007	0.006	0.003	0.008	0.006	0.006	0.008	0.004	0.006	0.028	0.007
10/15/2025	8:00:00 PM	15	0.4	0.1	0.001	0.014	0.008	0.010	0.007	0.006	0.003	0.007	0.007	0.006	0.006	0.004	0.007	0.028	0.007
10/15/2025	9:00:00 PM	15	0.3	0.1	0.001	0.008	0.004	0.008	0.011	0.003	0.004	0.005	0.005	0.004	0.005	0.004	0.005	0.026	0.004
10/15/2025	10:00:00 PM	15	0.3	0.1	0.001	0.009	0.004	0.008	0.014	0.003	0.004	0.003	0.005	0.004	0.005	0.004	0.002	0.021	0.004
10/15/2025	11:00:00 PM	15	0.3	0.1	0.002	0.012	0.004	0.007	0.009	0.005	0.003	0.012	0.004	0.004	0.011	0.004	0.003	0.030	0.004
"""
